
<html>
<head>
    <title>ResultSet2Bean.java</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style type="text/css">
        .s0 { color: #abb2bf;}
        .s1 { color: #6f42c1;}
        .s2 { color: #d73a49;}
        .s3 { color: #98c379;}
        .s4 { color: #24292e;}
        .s5 { color: #22863a;}
        .ln { color: #aaaaaa; font-weight: normal; font-style: normal; }
        pre{
            background: #000000;
        }
    </style>
</head>
<body bgcolor="#ffffff">

<p>昨天做项目时需要导入文件信息到数据库中，结果报错，检查后发现sql本身没有错误,但却抛出异常说语法错误,我将sql语句输出然后复制到可视化软件中执行也没问题 ,下面时报错的信息</p>
<pre><a name="l1"><span class="ln">1    </span></a><span style="color:red;">### Error updating database.  Cause: java.sql.SQLSyntaxErrorException:</span><span class="s2">;</span>
<a name="l2"><span class="ln">2    </span></a><span style="color:red;">You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near</span><span class="s2">;</span>
</pre>
<p>最后查了相关资料，如果要执行多个sql语句，在连接mysql的时候，需要在连接datasource的url后面增加参数allowMultiQueries=true </p>
<p>这里用的是c3p0连接池 </p>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">&lt;?</span><span class="s1">xml version</span><span class="s3">=&quot;1.0&quot; </span><span class="s1">encoding</span><span class="s3">=&quot;UTF-8&quot;</span><span class="s0">?&gt;</span>
<a name="l2"><span class="ln">2    </span></a><span class="s2">&lt;</span><span class="s5">c3p0-config</span><span class="s2">&gt;</span>
<a name="l3"><span class="ln">3    </span></a>	<span class="s2">&lt;</span><span class="s5">default-config</span><span class="s2">&gt;</span>
<a name="l4"><span class="ln">4    </span></a>		<span class="s2">&lt;</span><span class="s5">property </span><span class="s1">name</span><span class="s3">=&quot;driverClass&quot;</span><span class="s2">&gt;</span><span class="s0">com.mysql.jdbc.Driver</span><span class="s2">&lt;/</span><span class="s5">property</span><span class="s2">&gt;</span>
<a name="l5"><span class="ln">5    </span></a>		<span class="s2">&lt;</span><span class="s5">property </span><span class="s1">name</span><span class="s3">=&quot;jdbcUrl&quot;</span><span class="s2">&gt;</span><span class="s0">jdbc:mysql:///myblog?allowMultiQueries=true</span><span class="s2">&lt;/</span><span class="s5">property</span><span class="s2">&gt;</span>
<a name="l6"><span class="ln">6    </span></a>		<span class="s2">&lt;</span><span class="s5">property </span><span class="s1">name</span><span class="s3">=&quot;user&quot;</span><span class="s2">&gt;</span><span class="s0">user</span><span class="s2">&lt;/</span><span class="s5">property</span><span class="s2">&gt;</span>
<a name="l7"><span class="ln">7    </span></a>		<span class="s2">&lt;</span><span class="s5">property </span><span class="s1">name</span><span class="s3">=&quot;password&quot;</span><span class="s2">&gt;</span><span class="s0">mima</span><span class="s2">&lt;/</span><span class="s5">property</span><span class="s2">&gt;</span>
<a name="l8"><span class="ln">8    </span></a>	<span class="s2">&lt;/</span><span class="s5">default-config</span><span class="s2">&gt;</span>
<a name="l9"><span class="ln">9    </span></a><span class="s2">&lt;/</span><span class="s5">c3p0-config</span><span class="s2">&gt;</span>
<a name="l10"><span class="ln">10   </span></a></pre>
</body>
</html>